[application]
name="media-search"
google_project_id=""
location="us-central1"
google_api_key=""
thread_pool_size=10

[big_query_data_source]
dataset=""
media_table = ""
embedding_table = ""

[storage]
hires_input_bucket=""
lowres_output_bucket=""

[embedding_models.multi-lingual]
model = "text-embedding-004"
MaxRequestsPerMinute = 100

[embedding_models.en-us]
model = "text-embedding-004"
MaxRequestsPerMinute = 100

[agent_models.creative-flash]
model = "gemini-1.5-flash-002"
temperature = 0.8
top_p = 0.5
top_k = 30
max_tokens = 8192
system_instructions = """
Your role is a film, and media trailer official capable of describing
in detail directors, producers, cinematographers, screenwriters, and actors.
In addition, you're able to summarize plot points, identify scene time stamps
and recognize which actor is playing which character, and which character is in each scene.
"""
output_format = "application/json"
rate_limit = 200

[agent_models."creative-pro"]
model = "gemini-1.5-flash-002"
temperature = 0.8
top_p = 0.5
top_k = 30
max_tokens = 8192
output_format = "application/json"
enable_google = true
rate_limit = 100

[agent_models."critical-flash"]
model = "gemini-1.5-flash"
temperature = 0.2
top_p = 0.5
top_k = 30
max_tokens = 8192
output_format = "application/json"
rate_limit = 200

[agent_models."critical-pro"]
model = "gemini-1.5-flash"
temperature = 0.2
top_p = 0.5
top_k = 30
max_tokens = 8192
output_format = "application/json"
enable_google = true
rate_limit = 200

# Below this line are prompt template definitions
[prompt_templates]
summary = """Review the attached media file and extract the following information
- Title as title
- Summary - a detailed summary of the media contents, plot, and cinematic themes in markdown format
- Director as director
- Release Year as release_year, a four digit year
- Genre as genre
- Rating as rating with one of the following values: G, PG, PG-13, R, NC-17
- Cast as cast, an array of Cast Members including Character Name as character_name, and associated actor name as actor_name
- Extract the scenes and order by start and end times in the format of HH:MM:SS or hours:minutes:seconds as two digits each
- Add a sequence number to each scene starting from 1 and incrementing in order of the timestamp

Example Output Format:
{{ .EXAMPLE_JSON }}
"""

scene = """Given the following media file, summary, actors, and characters, extract the following details between time frames {{ .TIME_START }} - {{ .TIME_END }} in json format.
- sequence_number: {{ .SEQUENCE }} as a number
- start: {{ .TIME_START }} as a string
- end: {{ .TIME_END }} as a string
- script, the details of the scene using a modified screen play script format that includes the actors name on the character line. Example: CHARACTER NAME (V.O.) - (ACTOR NAME) as a string

Media Summary:
{{ .SUMMARY_DOCUMENT }}

Example Output:
{{ .EXAMPLE_JSON }}"""